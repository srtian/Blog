
## 一、为什么说容错处理很重要
B端产品由于其自身就具有一定的业务复杂度以及上手成本，因此在可用性方面，做好容错处理至关重要。一个好的容错处理既可以有效的提升用户使用产品的顺畅程度以及使用效率，也可以避免一些产品设计不够完善的问题的暴露。

下图是我在学习尼尔森十大可用性原则时所做的学习思维导图：

![](https://cdn.nlark.com/yuque/0/2020/svg/296173/1591772804740-96b87d93-8923-4d49-8b75-27bf0a0b6cd9.svg)从上述的思维导图我们不难发现，尼尔森所强调的可用性原则里面，绝大部分其实都和容错处理息息相关。我个人理解，容错处理我们可以在一下几个方面进行设计：

1. 在用户进行相关操作前，提供合理的引导，提示等有效的使用帮助。【2、环境贴切原则 10、人性化帮助原则】
2. 用户在进行操作时，及时给予操作反馈以及实时错误提示（实时错误提示主要应用于表单）。【1、状态可见， 5、防错原则】
3. 发生阶段性错误发生后，错误易定位，且错误易恢复，操作易重启。【3、撤销重做原则 9、容错原则】

接下来，我将从以上三个方面，来阐述如果进行合理的容错处理。

## 二、操作前的容错处理

### 2.1、环境贴切原则
可能有些朋友会有疑惑：为何环境贴切原则会列到操作前的容错处理当中。但从我个人的经验以及理解来看：用户在进行一个操作时，所处的大环境会有效的有助于用户进行合理的自我下意识判断。首先我们要清楚的是，用户在进行操作的时候，大多数情况下，是下意思的行为，并不会在每个操作上都会去花费一定的心力成本去思考，这个操作进行后，会造成什么影响。因此一个熟悉的大环境或者是说熟悉的上下文环境，可以有利于用户不花费多余的心力成本就去完成一些操作。

这一点在AI平台就得到了很好的印证，早期AI平台由于产品规划的原因，只有英文版的。但实际上，我们的主要用户是公司内部的算法工程师，虽然这个群体普遍英文水平较高，但得到的反馈还是某些专业名词不够直观，不好理解。因此当时我就尝试去推动平台进行本地化，在原有的英文基础上，支持中文。在中文得到支持后，也得到了不少好的反馈，且从数据上来看，在支持中文以后，百分之90%以上的用户都使用中文版，且对于一些复杂表单的填写的错误率也下降了近三分之一。

### 2.2、人性化帮助原则
除了上述的环境贴切原则，另一方面就是给予用户足够的人性化的帮助，主要是以下几个方面：

#### 1. 新手引导
新手引导算是现在互联网中最常见的帮助方式了，非常有利于用户快速上手。而对于B端产品，主要的实现方式主要包括：

- 引导视频
- 引导文档
- 引导动画

比如AI平台就给予了一个全面的帮助文档来让用户可以快速了解平台的基础功能，以及一些相关的专业名词的含义：<br />                                                       ![image.png](https://cdn.nlark.com/yuque/0/2020/png/296173/1591340878952-3daed16d-c0ca-4ee6-8a1b-e75d13dd6cdf.png#align=left&display=inline&height=396&name=image.png&originHeight=1188&originWidth=480&size=76949&status=done&style=none&width=160)

#### 2. 表单设计合理并给予有效引导
从数据录入的操作便捷程度来讲：单选 > 选择型下拉框(select) > 输入框。此外对于一些具有相应填写规则的表单，也需要给予一些提示，具体方式主要有以下几种：

- 使用 `placeholder` 对输入内容进行提示

                          ![image.png](https://cdn.nlark.com/yuque/0/2020/png/296173/1591351917689-b08a9eb0-dadc-46e7-846e-ed20fd27290a.png#align=left&display=inline&height=42&name=image.png&originHeight=126&originWidth=1100&size=12160&status=done&style=none&width=366.6666666666667)

- 使用提示icon，将填写规则说明：

                 ![image.png](https://cdn.nlark.com/yuque/0/2020/png/296173/1591352213692-fca28354-cc08-4990-be53-188849d5bacf.png#align=left&display=inline&height=86&name=image.png&originHeight=258&originWidth=1742&size=42359&status=done&style=none&width=580.6666666666666)

#### 3. 操作提醒的设置
对于一些比如删除等不可逆的操作时，我们也需要在用户进行操作前，给予有效的提醒，这样可以有效的减少用户的误点误删的事情发生：<br />                                    ![image.png](https://cdn.nlark.com/yuque/0/2020/png/296173/1591352474964-982eafd9-58a8-4beb-b7e1-366f75136d4d.png#align=left&display=inline&height=93&name=image.png&originHeight=278&originWidth=1256&size=35655&status=done&style=none&width=418.6666666666667)<br />此外，在表单填写时，也应该给予实时的提醒，让用户可以在填写时就知道自己的填写内容是错误的，从而及时的更正，而不是要等要点击提交按钮时才会抛出异常或者错误，这一块Ant Design的表单就做的很好：<br />                                    ![image.png](https://cdn.nlark.com/yuque/0/2020/png/296173/1591352663302-fb84f114-f2b0-40a9-8eab-cf270e863c9e.png#align=left&display=inline&height=45&name=image.png&originHeight=134&originWidth=1224&size=24954&status=done&style=none&width=408)

## 三、操作时的容错处理

### 3.1、状态可见原则
这里的状态可见，从大的方面来讲，可以理解为一个任务的状态，在这个方面，大家都做的不错；但从小的方面来讲，状态可以是一次搜索，一次表单的填写等这样小的操作。比如搜索，如果没有搜索到对应的内容，在一些场景下就需要提醒：<br />                                    ![image.png](https://cdn.nlark.com/yuque/0/2020/png/296173/1591354809203-06f00d65-84fa-4643-978b-bcf0fb3994a6.png#align=left&display=inline&height=51&name=image.png&originHeight=152&originWidth=1058&size=30922&status=done&style=none&width=352.6666666666667)<br />以及我上面，在人性化帮助原则中第3点所提到的，表单的填写需要实时的提醒，其实也是状态可见原则的表现。


### 3.2、防错限制的设置
对于一些比较常发生的错误，我们也可以通过一些权限设置，或者是直接给予默认值等设置，来避免类似错误的发生。比如给表单设置默认项，不可操作的按钮进行置灰并给予相应的置灰解释：<br />                                                          ![image.png](https://cdn.nlark.com/yuque/0/2020/png/296173/1591352946704-bb920a17-a5f4-4550-8e26-542bf7ef7077.png#align=left&display=inline&height=66&name=image.png&originHeight=198&originWidth=544&size=21088&status=done&style=none&width=181.33333333333334)

## 四、错误发生后的容错处理

### 4.1、错误发生后，及时提供错误信息
这一项在AI 平台或者类似的一些平台所需要的，比如在AI平台发起一个编译任务，如果此项任务发生错误，就应该在展示错误状态外，还停供相关的错误信息，以方便用户快速进行定位，修复相关错误：<br />                           ![image.png](https://cdn.nlark.com/yuque/0/2020/png/296173/1591690266586-6b2fd6ca-750d-4533-8d08-59447ed3f998.png#align=left&display=inline&height=26&name=image.png&originHeight=45&originWidth=836&size=6891&status=done&style=none&width=491)


### 4.2、错误操作发生后，提供完善的保障机制
对于B端产品来说，用户经常也会出现误删资源的操作。因此如果在这些操作进行时，在进行提醒之外，应该还具有一定的回溯机制。比如在AI平台现在在Web端对一个资源进行删除，但其实只是暂时删除了一个映射关系，其底层的资源暂时是没有被删除的，仍然存储在数据库中，只有到了一定的时间，才会去清理相应的资源。这样做的好处就在于，虽然耗费了一定的空间，但大大的降低了数据损失的风险（这块除了这一处理方式，其实对于数据集这样的资源，本身就会对不太常用的数据集放入磁带，因此删除也只是解除映射关系之余将这个资源打入冷资源中）

除此之外，对于一些链路比较长的任务，我们也应该提供完善的回退机制，保证用户在当前阶段发生错误时，可以回退到上一步，而不至于整个任务全部失败，需要从头再来，比如以一个算法模型的半自动化的生产链路来讲：




这是一个很长的生产链路，所耗费的时也很长，因此在进行模型半自动化生产的过程中，如果因为其中一个任务出现了问题，而导致整个链路都需要重新开始，实在是太不友好了。因此需要将上述步骤提供完善的错误回退机制，比如预测任务发起失败，只需要提示用户预测任务发起失败，然后给予用户完善的错误信息提示，待用户解决问题后，直接重新发起预测任务即可。

类似的例子还有很多，比如PS，LR等操作软件，也提供了历史记录的功能，可以轻松回退的相应的地方


## 结语
上述只是我个人在实践过程中的一些体会以及方法论，因为大家的产品特征不同，所要解决的问题，目标用户群体也不同。因此在具体的设计时，要根据自身的特点，去因地制宜的设计合理的容错处理机制。
