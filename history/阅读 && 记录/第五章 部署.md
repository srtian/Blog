前面四章主要针对的开发阶段的一些工程化。下一步的工作就是将构建产生的代码部署到指定的环境。很多人还有着传统的观念——部署只是使用一些工具将文件传输到指定的服务器上，然后交给运维发布上线即可。


## 部署流程的设计原则
这里讨论的部署是指将构建产出的代码包部署至测试机的过程，而不是将测试完成的代码部署到生产环境的过程。

衡量部署流程的三个指标：

- 速度
- 协作
- 安全


### 速度
现有工具的优点是功能全面，但不是长期选择，原因是：

1. 无法将配置与项目绑定对应关系
2. 需要一定的人工逻辑操作，比较繁琐

所以我们需要遵循以下两个原则：

- 可配置化
- 操作简化


### 协作
协作的本质是个体或者团体之间的交流互助过程。协作出现问题会引起以下两个问题：

- 沟通不及时导致代码不同步
- 控制不严格导致部署错误覆盖

代码审查是解决代码不同步问题的最有效成本最低的途径。


### 安全
保障部署安全最常用的方案是制定严格的制度和权限控制规范。

严格审查在代码审查的基础上新增了代码层面的约束，比如校验部署测试环境的代码是否包含线上API的非法调用。

权限控制规范下的开发人员和审查人员进行重新分工，开发人员不再具备部署权限，审查人员除了严格审查代码外，还需执行具体的部署步骤。


## 流程之外，前端静态资源的部署策略

### 协商缓存和强制缓存
					
				
			
		
	
